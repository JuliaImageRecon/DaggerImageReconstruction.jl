<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Algoritm Interface · DaggerImageReconstruction.jl</title><meta name="title" content="Algoritm Interface · DaggerImageReconstruction.jl"/><meta property="og:title" content="Algoritm Interface · DaggerImageReconstruction.jl"/><meta property="twitter:title" content="Algoritm Interface · DaggerImageReconstruction.jl"/><meta name="description" content="Documentation for DaggerImageReconstruction.jl."/><meta property="og:description" content="Documentation for DaggerImageReconstruction.jl."/><meta property="twitter:description" content="Documentation for DaggerImageReconstruction.jl."/><meta property="og:url" content="https://github.com/JuliaImageRecon/DaggerImageReconstruction.jl/generated/example/algorithm/"/><meta property="twitter:url" content="https://github.com/JuliaImageRecon/DaggerImageReconstruction.jl/generated/example/algorithm/"/><link rel="canonical" href="https://github.com/JuliaImageRecon/DaggerImageReconstruction.jl/generated/example/algorithm/"/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">DaggerImageReconstruction.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox" checked/><label class="tocitem" for="menuitem-2"><span class="docs-label">Example: Distributed Radon Reconstruction Package</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../example_intro/">Introduction</a></li><li class="is-active"><a class="tocitem" href>Algoritm Interface</a><ul class="internal"><li><a class="tocitem" href="#Iterative-Radon-Reconstruction"><span>Iterative Radon Reconstruction</span></a></li><li><a class="tocitem" href="#Distributed-Iterative-Radon-Reconstruction"><span>Distributed Iterative Radon Reconstruction</span></a></li></ul></li><li><a class="tocitem" href="../daggerplan/">RecoPlan Interface</a></li></ul></li><li><a class="tocitem" href="../../../API/api/">API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Example: Distributed Radon Reconstruction Package</a></li><li class="is-active"><a href>Algoritm Interface</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Algoritm Interface</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaImageRecon/DaggerImageReconstruction.jl/blob/main/docs/src/literate/example/algorithm.jl#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Distributed-Image-Reconstruction"><a class="docs-heading-anchor" href="#Distributed-Image-Reconstruction">Distributed Image Reconstruction</a><a id="Distributed-Image-Reconstruction-1"></a><a class="docs-heading-anchor-permalink" href="#Distributed-Image-Reconstruction" title="Permalink"></a></h1><p>This example demonstrates how to execute an iterative Radon reconstruction using the OurRadonReco package on a separate process. We start by adding a new worker process:</p><pre><code class="language-julia hljs">using Distributed
worker = first(addprocs(1))</code></pre><p>In this example we create a new local process, but usually one would create a process on another machine for example via ssh.</p><p>We retrieve the worker&#39;s ID, which will be used to designate the target for our algorithm. Ensure that required packages are loaded on both the main and worker processes:</p><pre><code class="language-julia hljs">@everywhere using OurRadonReco</code></pre><h2 id="Iterative-Radon-Reconstruction"><a class="docs-heading-anchor" href="#Iterative-Radon-Reconstruction">Iterative Radon Reconstruction</a><a id="Iterative-Radon-Reconstruction-1"></a><a class="docs-heading-anchor-permalink" href="#Iterative-Radon-Reconstruction" title="Permalink"></a></h2><p>We first recall the algorithms we defined for OurRadonreco. We will use iterative methods to reconstruct the first three images from our time series. For more information, refer to the AbstractImageReconstruction documentation. We first prepare our parameters. For this example we will use the Conjugate Gradient Normal Residual solver with 20 iterations and a L2 regularization of 0.001. Furthermore, we will project the final result to positive values:</p><pre><code class="language-julia hljs">pre = RadonPreprocessingParameters(frames = collect(1:3))
iter_reco = IterativeRadonReconstructionParameters(; shape = size(images)[1:3], angles = angles, iterations = 20, reg = [L2Regularization(0.001)], solver = CGNR);</code></pre><p>We can construct the algorithm with our parameters:</p><pre><code class="language-julia hljs">algo_iter = IterativeRadonAlgorithm(IterativeRadonParameters(pre, iter_reco));</code></pre><p>And apply it to our sinograms:</p><pre><code class="language-julia hljs">imag_iter = reconstruct(algo_iter, sinograms);</code></pre><p>Finally we can visualize the results:</p><pre><code class="language-julia hljs">fig = Figure()
for i = 1:3
  plot_image(fig[i,1], reverse(images[:, :, 24, i]))
  plot_image(fig[i,2], sinograms[:, :, 24, i])
  plot_image(fig[i,3], reverse(imag_iter[:, :, 24, i]))
end
resize_to_layout!(fig)
fig</code></pre><img src="a2eb664d.png" alt="Example block output"/><h2 id="Distributed-Iterative-Radon-Reconstruction"><a class="docs-heading-anchor" href="#Distributed-Iterative-Radon-Reconstruction">Distributed Iterative Radon Reconstruction</a><a id="Distributed-Iterative-Radon-Reconstruction-1"></a><a class="docs-heading-anchor-permalink" href="#Distributed-Iterative-Radon-Reconstruction" title="Permalink"></a></h2><p>To execute the reconstruction process on our worker process we will use the <code>DaggerReconstructionAlgorithm</code>. This is an image reconstruction algorithm provided by <strong>DaggerImageReconstruction</strong> and features the same interface as other algorithms implemented with <strong>AbstractImageReconstruction</strong>. To use this algorithm, we again need to prepare our parameters:</p><pre><code class="language-julia hljs">iter_dagger = DaggerReconstructionParameter(algo = algo_iter, worker = worker);</code></pre><p>Here our parameter are give the complete iterative algorithm we constructed previously, as well as the worker. Internally, this moves the whole algorithm to the specified worker. If an algorithm contains a large amounts of data, such a transfer might be infeasible/costly. To avoid this, consider using the <code>RecoPlan</code> interface instead.</p><p>Once we have our parameters, we can construct our algorithm:</p><pre><code class="language-julia hljs">algo_dagger = DaggerReconstructionAlgorithm(iter_dagger);</code></pre><p>Afterwards, we can reconstruct as before:</p><pre><code class="language-julia hljs">imag_dagger = reconstruct(algo_dagger, sinograms);</code></pre><p>This moves the sinogram to the other process and performs the image reconstruction there. At the end the algorithm retrieves the result and we can treat it the same way as the local reconstruction:</p><pre><code class="language-julia hljs">fig = Figure()
for i = 1:3
  plot_image(fig[i,1], reverse(images[:, :, 24, i]))
  plot_image(fig[i,2], sinograms[:, :, 24, i])
  plot_image(fig[i,3], reverse(imag_dagger[:, :, 24, i]))
end
resize_to_layout!(fig)
fig</code></pre><img src="a2eb664d-001.png" alt="Example block output"/><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../../example_intro/">« Introduction</a><a class="docs-footer-nextpage" href="../daggerplan/">RecoPlan Interface »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Friday 25 July 2025 12:00">Friday 25 July 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
